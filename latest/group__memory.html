<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cschannel: Memory management.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cschannel&#160;<span id="projectnumber">latest</span></div>
   <div id="projectbrief">Streaming SChannel (SSL/TLS) wrapper.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__memory.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Memory management.</div>  </div>
<div class="ingroups"><a class="el" href="group__internal.html">Internal symbols (helpers).</a></div></div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gae49c24d7c7e4d586a3c0faeecb700425">channel_acquire</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire memory used for buffering data.  <a href="#gae49c24d7c7e4d586a3c0faeecb700425"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga32e2e1bf1298257a5362c393d54a58ab">channel_release</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel, void *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory used for buffering data.  <a href="#ga32e2e1bf1298257a5362c393d54a58ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gabc4146d0d1a080e91bba5f589c4f060d">acquire_token_buffers</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire memory used for buffering security tokens.  <a href="#gabc4146d0d1a080e91bba5f589c4f060d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga486431afd176183972a25dd0d9e332ed">release_token_buffers</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory used for buffering security tokens.  <a href="#ga486431afd176183972a25dd0d9e332ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gaa2a3609345abf308fe137fc4f1e19a47">acquire_stream_buffers</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire memory used for buffering messages.  <a href="#gaa2a3609345abf308fe137fc4f1e19a47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gae9db90aef9e5e79e91fe84ba83ede1ad">release_stream_buffers</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory used for buffering messages.  <a href="#gae9db90aef9e5e79e91fe84ba83ede1ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gacd1f45ab25084c6c720271c72a0beb7a">secure_channel_fetch_sizes</a> (struct <a class="el" href="structsecure__channel.html">secure_channel</a> *channel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Request channel limits from security package.  <a href="#gacd1f45ab25084c6c720271c72a0beb7a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#gae6f1f7eb7014d5f4ceaba49ce2f1aece">secure_channel::acquire_buffer</a> )(struct <a class="el" href="structsecure__channel.html">secure_channel</a> *, size_t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom memory allocator's allocation function.  <a href="#gae6f1f7eb7014d5f4ceaba49ce2f1aece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__memory.html#ga56e231135cf2c4d52f48a7fbb3cb7e55">secure_channel::release_buffer</a> )(struct <a class="el" href="structsecure__channel.html">secure_channel</a> *, void *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom memory allocator's cleanup function.  <a href="#ga56e231135cf2c4d52f48a7fbb3cb7e55"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaa2a3609345abf308fe137fc4f1e19a47"></a><!-- doxytag: member="cschannel.c::acquire_stream_buffers" ref="gaa2a3609345abf308fe137fc4f1e19a47" args="(struct secure_channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void acquire_stream_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acquire memory used for buffering messages. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to acquire memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Buffer size is determined by the security package settings.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#gae49c24d7c7e4d586a3c0faeecb700425" title="Acquire memory used for buffering data.">channel_acquire()</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00269">269</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabc4146d0d1a080e91bba5f589c4f060d"></a><!-- doxytag: member="cschannel.c::acquire_token_buffers" ref="gabc4146d0d1a080e91bba5f589c4f060d" args="(struct secure_channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void acquire_token_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acquire memory used for buffering security tokens. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to acquire memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Buffer size is determined by the security package settings.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#gae49c24d7c7e4d586a3c0faeecb700425" title="Acquire memory used for buffering data.">channel_acquire()</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00238">238</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae49c24d7c7e4d586a3c0faeecb700425"></a><!-- doxytag: member="cschannel.c::channel_acquire" ref="gae49c24d7c7e4d586a3c0faeecb700425" args="(struct secure_channel *channel, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* channel_acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Acquire memory used for buffering data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to acquire memory. </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes of memory to acquire.</td></tr>
  </table>
  </dd>
</dl>
<p>Memory allocation is performed using the custom memory allocation procedure, if one is set. If not, then the security channel uses <code>malloc()</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#gae6f1f7eb7014d5f4ceaba49ce2f1aece" title="Custom memory allocator&#39;s allocation function.">secure_channel::acquire_buffer</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00200">200</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga32e2e1bf1298257a5362c393d54a58ab"></a><!-- doxytag: member="cschannel.c::channel_release" ref="ga32e2e1bf1298257a5362c393d54a58ab" args="(struct secure_channel *channel, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void channel_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release memory used for buffering data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to release memory. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer returned by <code><a class="el" href="group__memory.html#gae49c24d7c7e4d586a3c0faeecb700425" title="Acquire memory used for buffering data.">channel_acquire()</a></code> </td></tr>
  </table>
  </dd>
</dl>
<p>Memory allocation is performed using the custom memory allocation procedure, if one is set. If not, then the security channel uses <code>malloc()</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#ga56e231135cf2c4d52f48a7fbb3cb7e55" title="Custom memory allocator&#39;s cleanup function.">secure_channel::release_buffer</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00218">218</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae9db90aef9e5e79e91fe84ba83ede1ad"></a><!-- doxytag: member="cschannel.c::release_stream_buffers" ref="gae9db90aef9e5e79e91fe84ba83ede1ad" args="(struct secure_channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void release_stream_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release memory used for buffering messages. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to release memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#ga32e2e1bf1298257a5362c393d54a58ab" title="Release memory used for buffering data.">channel_release()</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00287">287</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga486431afd176183972a25dd0d9e332ed"></a><!-- doxytag: member="cschannel.c::release_token_buffers" ref="ga486431afd176183972a25dd0d9e332ed" args="(struct secure_channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void release_token_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release memory used for buffering security tokens. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Secure channel instance for which to release memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#ga32e2e1bf1298257a5362c393d54a58ab" title="Release memory used for buffering data.">channel_release()</a> </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00252">252</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacd1f45ab25084c6c720271c72a0beb7a"></a><!-- doxytag: member="cschannel.c::secure_channel_fetch_sizes" ref="gacd1f45ab25084c6c720271c72a0beb7a" args="(struct secure_channel *channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void secure_channel_fetch_sizes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsecure__channel.html">secure_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request channel limits from security package. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel for which buffer sizes are to be requested.</td></tr>
  </table>
  </dd>
</dl>
<p>After negotiation is complete, the maximum buffer sizes may be determined by checking the selected encryption algorithm (many parameters, including the cipher strength influence the maximum message size). This function is called to ask the security package what those limits are, so that the proper amount of memory can be allocated. </p>

<p>Definition at line <a class="el" href="cschannel_8c_source.html#l00632">632</a> of file <a class="el" href="cschannel_8c_source.html">cschannel.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gae6f1f7eb7014d5f4ceaba49ce2f1aece"></a><!-- doxytag: member="secure_channel::acquire_buffer" ref="gae6f1f7eb7014d5f4ceaba49ce2f1aece" args=")(struct secure_channel *, size_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* <a class="el" href="group__memory.html#gae6f1f7eb7014d5f4ceaba49ce2f1aece">secure_channel::acquire_buffer</a>)(struct <a class="el" href="structsecure__channel.html">secure_channel</a> *, size_t)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Custom memory allocator's allocation function. </p>
<p>If not specified, the secure channel will use <code>malloc()</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#ga56e231135cf2c4d52f48a7fbb3cb7e55" title="Custom memory allocator&#39;s cleanup function.">release_buffer</a> </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>It is highly likely that setting only one of <code>acquire_buffer</code> or <code>release_buffer</code> is a logic error. Always set both. </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8h_source.html#l00380">380</a> of file <a class="el" href="cschannel_8h_source.html">cschannel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga56e231135cf2c4d52f48a7fbb3cb7e55"></a><!-- doxytag: member="secure_channel::release_buffer" ref="ga56e231135cf2c4d52f48a7fbb3cb7e55" args=")(struct secure_channel *, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="group__memory.html#ga56e231135cf2c4d52f48a7fbb3cb7e55">secure_channel::release_buffer</a>)(struct <a class="el" href="structsecure__channel.html">secure_channel</a> *, void *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Custom memory allocator's cleanup function. </p>
<p>If not specified, the secure channel will use <code>free()</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__memory.html#gae6f1f7eb7014d5f4ceaba49ce2f1aece" title="Custom memory allocator&#39;s allocation function.">acquire_buffer</a> </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>It is highly likely that setting only one of <code>acquire_buffer</code> or <code>release_buffer</code> is a logic error. Always set both. </dd></dl>

<p>Definition at line <a class="el" href="cschannel_8h_source.html#l00392">392</a> of file <a class="el" href="cschannel_8h_source.html">cschannel.h</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Wed Aug 10 2011 23:20:36 for cschannel by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
